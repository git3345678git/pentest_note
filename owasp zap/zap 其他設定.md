##### zap 





# Break 基本使用。

## break 只抓取scope


有時候你只想抓取 192.168.1.1的請求，

你就在site 找到目標右鍵 include in context 

然後中斷點選項:only break on messages in scope。




## break 使用官方給的規則。

更方便的是你打開 display 選項中的 show break button 這才是ZAP正確的使用方式。

選 break panel ，在到 break point 選項 -> Show buttons to select the requests you don't want ZAP to break on。

這樣你就能在中斷點看到 JS CSS PNG 類的過濾器，真的很牛逼，不用自己寫規則。





## break 自訂義斷點規則。


自訂斷點，這邊我是拿 burpesuite 預設的附檔名抓取規則修改的

這是regex匹配抓取這些附檔名。

```
.*\.(gif|jpg|png|css|js|ico|svg|eot|woff|woff2|ttf).*
```

可以勾選 inverse 選項變成:這些附檔名的包都不斷點。




## break 自訂義斷點只抓取 request包

官方預設的break 會一直顯示 request 和 response。

burpesuite 的 intercept 預設就是只關注 request。

所以我點的手很痠，這時你就需要自訂義。


**add break 選項**
```
location : request header
符合: 包含或regex
string : 192.168.50.237
```

這樣就跟burpsuite一樣，只抓取 request




## break 快捷鍵

官方預設是
```
Submit and Continue to Next Breakpoint	 	
Control	C

Submit and Step to Next Request or Response	 	
Control	S
```

有一點點小bug 不過問題不大。

由於我們想快速檢查request包，而不想知道response，通常會用 ctrl + c。

不過我發現起手，使用ctrl + c 會沒反應，

這時你只需要ctrl + s 一次後就可以使用了。

或是你點選 break 旁邊的空白欄位也可以直接ctrl + c


## 小bug

假設你只有其中一個 dvwa.com/xss/1.php 想中斷，你可以site 直接右鍵 break 就會在下方中斷點添加規則，
可以編輯相關規則，不過你中斷後，點選其他頁面他還是會抓取，只不過只有一次，然後ctrl+c，必須要看到Submit and Continue to Next Breakpoint是灰色的
剩下你逛其頁面的都正常，不會被抓取到。

