# VPS


感覺就像，一台電腦裝了很多VM，每個VM拿去賣給不同使用者。

![image](https://hackmd.io/_uploads/B11d75h6a.png)






## VPS独享IP


VPS独享IP是指每个VPS（虚拟专用服务器）实例都拥有自己的唯一公共IP地址。与共享IP相比，独享IP提供了更高的独立性和隐私性，因为每个VPS实例都有自己的唯一标识符，与其他VPS实例完全隔离。

以下是VPS独享IP的基本原理：

1. **唯一IP地址**：在VPS独享IP的方案中，每个VPS实例都被分配一个唯一的公共IP地址。这个IP地址是在VPS主机商的IP地址池中独立分配的，与其他VPS实例的IP地址不重复。

2. **网络配置**：VPS主机商会在网络架构中配置路由器和防火墙，确保每个VPS实例的IP地址不受其他实例影响。这意味着每个VPS实例都有自己的网络隔离和安全性。

3. **独立性**：由于每个VPS实例都有自己的唯一IP地址，它们可以独立地运行和管理自己的网络服务和应用程序，而不会受其他VPS实例的影响。

VPS独享IP通常用于需要更高隐私性和安全性的场景，例如运行商业网站、应用程序和数据库。它还可以确保IP地址不会被其他用户滥用或列入黑名单，提供了更可靠和稳定的网络连接。然而，由于每个VPS实例都有自己的独立IP地址，因此VPS独享IP的方案通常会更昂贵一些，因为它需要更多的IP地址资源和网络配置。


## VPS共享IP

原理是通过网络地址转换（NAT，Network Address Translation）来实现的。下面是VPS共享IP的基本原理：

1. **路由器/NAT设备**：VPS主机商通常会在其网络架构中配置专门的路由器或NAT设备。这些设备负责管理VPS实例之间以及与外部网络之间的通信。

2. **IP地址池**：VPS主机商会为自己的网络分配一组公共IP地址，这些IP地址构成了IP地址池。

3. **转换表**：路由器或NAT设备会维护一个转换表，记录了内部私有IP地址和外部公共IP地址之间的映射关系。

4. **转换过程**：
   - 当VPS实例发送数据包到外部网络时，路由器或NAT设备会检查数据包的源IP地址和端口号。
   - 如果数据包来自于一个共享IP的VPS实例，路由器/NAT设备会将源IP地址和端口号转换为一个外部公共IP地址和端口号，同时在转换表中记录下这个映射关系。
   - 数据包随后被路由器发送到外部网络，并通过公共网络进行传输。
   - 当外部网络的响应数据包返回时，路由器/NAT设备会根据转换表中的记录，将目标IP地址和端口号还原为原始的VPS实例的私有IP地址和端口号，然后将数据包发送到正确的VPS实例。

通过这种方式，VPS主机商可以实现多个VPS实例共享一个公共IP地址的功能，而不会相互干扰，从而节省了IP地址资源，降低了成本。同时，这也为VPS用户提供了一个经济实惠的选择，满足了一般网络需求。



## VPS独享IP 能用反向代理隱藏IP嗎?

是的，你可以使用反向代理来隐藏VPS独享IP地址。反向代理是一种服务器配置，可以将客户端的请求转发到实际提供服务的后端服务器，同时隐藏后端服务器的真实IP地址。

在使用反向代理时，客户端直接与反向代理服务器通信，并发送请求。反向代理服务器根据请求的内容将流量转发到后端服务器，后端服务器提供所需的服务，并将响应返回给反向代理服务器。反向代理服务器再将响应返回给客户端。

通过这种方式，客户端不直接与后端服务器通信，而是与反向代理服务器通信，因此无法直接获得后端服务器的真实IP地址。这样可以有效隐藏VPS独享IP地址，并增加网络安全性和隐私性。

需要注意的是，反向代理服务器仍然需要有公共IP地址与客户端通信，因此反向代理服务器的IP地址可能会暴露。因此，在选择反向代理解决方案时，确保选择可信赖和安全的服务提供商，并采取适当的安全措施来保护反向代理服务器免受攻击。