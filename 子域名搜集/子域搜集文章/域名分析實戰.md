## 目標:
linangdata.com



## cdn finder:

https://www.cdnplanet.com/tools/cdnfinder/
```
No CDN (50.87.142.37)
```


## iplogger
```
173.254.104.177
```





## virus total

Passive DNS Replication

```
50.87.142.37
50.87.248.173
```
50.87.248.173 是舊的記錄


Subdomains

```
linangdata.com
smtp.linangdata.com
ftp.linangdata.com
pop.linangdata.com
webmail.linangdata.com
mail.linangdata.com
www.linangdata.com
bowen-island.linangdata.com
simplecalculator.linangdata.com
store.linangdata.com
```

很多打不開，會直接導入到 要你買網域



## whois

知道是 BLUEHOST.COM 
是一家提供共享主機、虛擬專用服務器、雲主機和專用服務器等服務的公司

dns 解析:

```
ns1.bluehost.com
ns2.bluehost.com
```

域名：LINANGDATA.COM
註冊商域名ID：2577476
註冊商WHOIS服務器：whois.bluehost.com
註冊商網址：http://www.bluehost.com/
更新日期：2023-05-16T02:19:33Z
創建日期：2015-04-28T20:56:21Z
註冊商註冊過期日期：2024-04-28T20:56:21Z
註冊商：FastDomain Inc.
註冊商IANA ID：1154
註冊商濫用聯繫電子郵件：email@fastdomain.com
註冊商濫用聯繫電話：888-210-3278
轉售商：BlueHost.Com
域名狀態：clientTransferProhibited https://icann.org/epp#clientTransferProhibited
註冊人ID：FAST-111369499
註冊人姓名：DOMAIN ADMIN
註冊人組織：DOMAIN PRIVACY SERVICE FBO REGISTRANT
註冊人街道地址：5335 GATE PKWY.
註冊人城市：JACKSONVILLE
註冊人州/省：FLORIDA
註冊人郵政編碼：32256
註冊人國家/地區：美國
註冊人電話：+1.8017659400
註冊人電子郵件：email@BLUEHOST.COM
管理人ID：FAST-111369499
管理人姓名：DOMAIN ADMIN
管理人組織：DOMAIN PRIVACY SERVICE FBO REGISTRANT
管理人街道地址：5335 GATE PKWY.
管理人城市：JACKSONVILLE
管理人州/省：FLORIDA
管理人郵政編碼：32256
管理人國家/地區：美國
管理人電話：+1.8017659400
管理人電子郵件：email@BLUEHOST.COM
技術人員ID：FAST-111369499
技術人員姓名：DOMAIN ADMIN
技術人員組織：DOMAIN PRIVACY SERVICE FBO REGISTRANT
技術人員街道地址：5335 GATE PKWY.
技術人員城市：JACKSONVILLE
技術人員州/省：FLORIDA
技術人員郵政編碼：32256
技術人員國家/地區：美國
技術人員電話：+1.8017659400
技術人員電子郵件：email@BLUEHOST.COM
域名服務器：NS1.BLUEHOST.COM，NS2.BLUEHOST.COM



## DNS SPF記錄表示允許使用以下機制發送郵件：
https://sitereport.netcraft.com/
https://www.virustotal.com/

```
v=spf1 +a +mx +ip4:173.254.104.177 +ip4:50.87.142.37 +include:bluehost.com ~all
```

- "+a"：允許通過A記錄指定的IP地址發送郵件。
- "+mx"：允許通過MX記錄指定的郵件交換服務器發送郵件。
- "+ip4:173.254.104.177"：允許指定的IPv4地址173.254.104.177發送郵件。
- "+ip4:50.87.142.37"：允許指定的IPv4地址50.87.142.37發送郵件。
- "+include:bluehost.com"：允許通過bluehost.com的SPF記錄中指定的服務器發送郵件。

而對於不在授權列表中的其他服務器，該SPF記錄使用"~all"修飾符，表示這些服務器將被標記為"Soft Fail"。這意味著郵件服務器可以接受來自不在授權列表中的服務器發送的郵件，但會將其標記為可能是垃圾郵件。

請注意，SPF記錄的設置應根據您的具體需求和郵件發送架構進行調整。確保SPF記錄的語法正確，並根據您的實際情況添加或刪除機制和修飾符。此外，定期檢查和更新SPF記錄以確保其與實際情況保持一致也是重要的。






## 一個IP 查多個域名
https://www.webscan.cc/

```
linangdata.com
calculator.linangdata.com
```





## browser直接輸入:
```
https://50.87.142.37/
```
要你買網域。






## 先釐清一下:
https://fofa.info/

好多個子域名對應到同個IP

```
linangdata.com

simplecalculator.linangdata.com

bowen-island.linangdata.com/

http://webmail.linangdata.com/

https://mail.mail.linangdata.com:2096/

http://linangdata.com:2086/
...
```
TCP/UDP端口列表 2098/2086 是 cpanel 是一種流行的Web主機控制面板
```
https://zh.wikipedia.org/zh-tw/TCP/UDP%E7%AB%AF%E5%8F%A3%E5%88%97%E8%A1%A8
```


有些可以直接訪問
有些訪問會失敗，要你買網域。
有些網站沒有被SSL保護


## 大概猜測一下幾種模式:

可以將多個子域名映射到同一個IP地址，同時為每個子域名提供不同的服務。這可以通過服務器配置和虛擬主機設置來實現。

虛擬主機允許在同一個物理服務器上託管多個網站或服務，並根據接收到的請求中的域名信息將其路由到正確的虛擬主機。每個虛擬主機可以有自己獨立的配置、內容和服務。

例如，假設有以下子域名需要映射到同一個IP地址：

- app.example.com：映射到一個Web應用程序
- api.example.com：映射到一個API服務
- mail.example.com：映射到一個郵件服務器
- blog.example.com：映射到一個博客網站

通過服務器配置和虛擬主機設置，您可以將每個子域名路由到相應的服務。例如，對於一個基於Apache服務器的虛擬主機配置，可以類似這樣：

```htmlembedded=
<VirtualHost *:80>
    ServerName app.example.com
    DocumentRoot /var/www/app
    # 其他配置...
</VirtualHost>

<VirtualHost *:80>
    ServerName api.example.com
    DocumentRoot /var/www/api
    # 其他配置...
</VirtualHost>

<VirtualHost *:80>
    ServerName mail.example.com
    DocumentRoot /var/www/mail
    # 其他配置...
</VirtualHost>

<VirtualHost *:80>
    ServerName blog.example.com
    DocumentRoot /var/www/blog
    # 其他配置...
</VirtualHost>
```

每個虛擬主機都有自己的ServerName指令，用於指定匹配的子域名。然後，可以為每個虛擬主機配置相應的文檔根目錄、日誌文件、SSL證書等。

通過這種方式，即使多個子域名映射到同一個IP地址，服務器仍能正確將請求路由到不同的服務上，從而實現不同的功能和內容。


如果您希望將多個子域名映射到同一個IP地址上的不同端口，並提供不同的服務，您可以通過配置反向代理或虛擬主機來實現。

1. 反向代理：您可以使用反向代理服務器（例如Nginx、Apache等）來將不同的子域名指向同一個IP地址的不同端口。在反向代理服務器上，您可以配置不同的虛擬主機或代理規則，將請求轉發到相應的端口上運行的不同服務。例如：

   ```apache
   server {
     listen 80;
     server_name subdomain1.example.com;

     location / {
       proxy_pass http://localhost:8001;  // 將請求轉發到端口8001上的服務
     }
   }

   server {
     listen 80;
     server_name subdomain2.example.com;

     location / {
       proxy_pass http://localhost:8002;  // 將請求轉發到端口8002上的服務
     }
   }
   ```

   在上面的示例中，當用戶訪問subdomain1.example.com時，請求將被代理到運行在8001端口上的服務，而訪問subdomain2.example.com時，則會被代理到8002端口上的服務。

2. 虛擬主機：如果您使用的是Apache服務器，您可以配置不同的虛擬主機，並將它們分配給不同的子域名和端口。在Apache的配置文件中，您可以使用`<VirtualHost>`塊來定義不同的虛擬主機，並將其綁定到相應的子域名和端口。例如：

   ```htmlembedded=
   Listen 8001
   <VirtualHost *:8001>
     ServerName subdomain1.example.com
     DocumentRoot /var/www/subdomain1
     # 其他配置...
   </VirtualHost>

   Listen 8002
   <VirtualHost *:8002>
     ServerName subdomain2.example.com
     DocumentRoot /var/www/subdomain2
     # 其他配置...
   </VirtualHost>
   ```

   在上面的示例中，當用戶訪問subdomain1.example.com:8001時，請求將被路由到綁定了8001端口的虛擬主機，並提供/var/www/subdomain1目錄下的內容。類似地，訪問subdomain2.example.com:8002時，則會路由到綁定了8002端口的虛擬主機。

請注意，以上示例僅為演示目的，並且具體的配置取決於您使用的服務器軟件和具體的需求。您需要根據自己的情況進行相應的配置和調整。




## 實測結果:

判斷端口 > 判斷網域
但網頁443 端口 應用必須加上 host

2.服務路遊
```
http://50.87.142.37:2086/
http://linangdata.com:2086/
都是CPANEL 沒有ssl


http://50.87.142.37:2096 
接析 https://box2260.bluehost.com:2096/
另一個CPANEL 加上ssl


http://50.87.142.37
教你買網域，所以有開放 80

https://50.87.142.37
教你買網域，所以有開放 443

https://50.87.142.37

```

總知不管怎樣路遊，大至上就是靠端口，跟hostname的虛擬環境


IP 是獨立的，

bluehost 不但是虛擬主機商，也順便買了一些域當域名註冊商，
LINANGDATA.COM 就是 bluehost 買的


## 判斷是VPS 還是 虛擬主機


1.IP可以直接對上端口使用


2.同IP查不同網站
```
fofa
virustotal
webscan
```

三個都用IP反查，只查到相關的子網域，沒有其他網域
查到的數量也都小於100




### 有趣的是我們用IP logger 釣到的IP 以及 DNS SPF記錄
IP: 173.254.104.177
允許指定的IPv4地址173.254.104.177發送郵件。

邏輯:
linangdata.com 允許  173.254.104.177 送過來的email

圖片IP logger:
解析這圖片的是 173.254.104.177 


這裡用 IP 反查 173.254.104.177 
FOFA 
數量 11,182 



virustotal 
數量 超過200個(真的超多看不完)

WebScan
數量 341


你直接輸入 173.254.104.177

比對一下，有超多不同的域名。所以這是一個共享IP




ip="173.254.104.177" 

domain="linangdata.com"

ip="173.254.104.177" && body="linang"

