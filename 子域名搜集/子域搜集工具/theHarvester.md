# theHarvester



**使用說明**
```
 -d DOMAIN: 公司名称或要搜索的域。
 
 -l LIMIT: 限制搜索结果的数量，默认为 500。
 
 -S START: 从结果编号 X 开始，默认为 0。
 
 -g: 使用 Google Dorks 进行 Google 搜索。
 
 -p: 使用代理进行请求，在 proxies.yaml 文件中输入代理。
 
 -s: 使用 Shodan 查询发现的主机。
 
 --screenshot SCREENSHOT: 对已解析的域进行截图，指定输出目录：--screenshot output_directory。
 
 -v: 通过 DNS 解析验证主机名，并搜索虚拟主机。
 
 -e: 用于查询的 DNS 服务器。
 
 -t DNS_TLD: 执行 DNS TLD 扩展发现，默认为 False。
 
 -r: 检查接管风险。
 
 -n: 启用 DNS 服务器查找，默认为 False。
 
 -c: 在域上执行 DNS 弱口令破解。
 
 -f FILENAME: 将结果保存到 XML 和 JSON 文件中。
 
 
```

**-b 可以調整來源**
```
需要API
-------------------------
bevigil
binaryedge
bufferoverun
censys
criminalip
fullhunt
github-code
hunter
hunterhow
intelx
netlas
onyphe
pentesttools
projectdiscovery
rocketreach
tomba
securityTrails
virustotal
zoomeye







不需要API
-------------------------
好用

anubis 
baidu 
hackertarget 
otx	
rapiddns 
urlscan 
yahoo 



比較不好用

crtsh
dnsdumpster
duckduckgo
sitedossier
subdomaincenter
subdomainfinderc99
threatminer
certspotter 
bing
bingapi
brave 
                      
```

### 注意

* 有些雖然不需要API 但是網站會變動，所以會出錯。
* 有些則是突然需要API
* 有些則是不適用


bbd53.com.tw


以下是给定的 `theHarvester` 命令列表：

1. 搜索 Microsoft 的公司信息，限制结果为 500 条，使用 Google 作为搜索引擎，结果保存为 HTML 文件：
    ```bash
    theHarvester -d microsoft.com -l 500 -b anubis  -f myresults.html
    ```

2. 搜索 Microsoft 的公司信息，使用  VirusTotal 作为数据源：
    ```bash
    theHarvester -d microsoft.com -b virustotal
    ```

3. 搜索 Microsoft 的公司信息，限制结果为 200 条，使用 LinkedIn 作为数据源：
    ```bash
    theHarvester -d microsoft.com -l 200 -b linkedin
    ```

4. 搜索 Microsoft 的公司信息，限制结果为 200 条，使用 Google Dorks 进行 Google 搜索：
    ```bash
    theHarvester -d microsoft.com -l 200 -b google
    ```

5. 搜索 Apple 的公司信息，使用 Google Custom Search Engine (CSE)，限制结果为 500 条，等待搜索引擎响应的时间为 300 秒：
    ```bash
    theHarvester -d apple.com -b googleCSE -l 500 -s 300
    ```

6. 搜索 Cornell University 的信息，限制结果为 100 条，使用 Bing 作为数据源：
    ```bash
    theHarvester -d cornell.edu -l 100 -b bing
    ```
    
    
    
* 很多都需要API，我也懶得設定。

* 以下不需要API，但不代表以後不需要，    


    
### 小坑，我kali 自帶的版本好像有點問題，所以我上官網用下載使用 python 來執行。
    
    
不需要API 或設定的源
```
anubis,baidu,bing,brave,certspotter,crtsh,dnsdumpster,duckduckgo,hackertarget,otx,rapiddns,sitedossier,subdomaincenter,subdomainfinderc99,threatminer,urlscan,vhost,yahoo
```


去掉有問題或錯誤的源
```
brave vhost
```


能成功使用的源
```
python3 theHarvester.py -d toho-leo.com -l 500 -b anubis,baidu,bing,certspotter,crtsh,dnsdumpster,duckduckgo,hackertarget,otx,rapiddns,sitedossier,subdomaincenter,subdomainfinderc99,threatminer,urlscan,yahoo

```

### 總結來說我覺得體驗不佳，但還是比手動找方便!!!