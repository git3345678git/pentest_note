






--------------------------------------------
wget下載

wget https://assets.tryhackme.com/additional/linux-fundamentals/part3/myfile.txt

--------------------------------------------


從主機傳輸檔案 - SCP ( SSH )


將檔案和目錄從目前系統複製到遠端系統
將檔案和目錄從遠端系統複製到目前系統

前提是我們知道目前系統上的使用者和遠端系統上的使用者的使用者名稱和密碼


本地檔案 複製到  對方電腦
scp localfile.txt tryhackme@10.10.11.66:/home/tryhackme/test123.txt


對方電腦檔案 複製到  本地
scp tryhackme@10.10.11.66:/home/tryhackme/test123.txt remotefile.txt


--------------------------------------------


Python 提供了一個輕量級且易於使用的模組，稱為「HTTPServer」
該模組將您的電腦變成一個快速、簡單的 Web 伺服器


該模組的一個缺陷是您無法建立索引，因此您必須知道要使用的檔案的確切名稱和位置


開起WEB服務放到後台
python3 -m  http.server &


ls 查看

wget http://127.0.0.1:8000/test123.txt
wget http://127.0.0.1:8000/task3




http://10.10.11.66:8000/flag.txt 



--------------------------------------------

進程列表
ps

要查看其他使用者執行的進程以及那些不從會話運行的進程
ps aux




為您提供有關係統上運行的進程的即時統計信息
這些統計資料將每 10 秒刷新一次
top 



殺死 PID
kill 1337




以下是我們可以在進程被終止時發送給進程的一些訊號：

SIGTERM - 終止進程，但允許它預先執行一些清理任務
SIGKILL - 終止進程 - 事後不進行任何清理
SIGSTOP - 停止/掛起進程



進程如何啟動？



ID為0的進程是系統啟動時啟動的進程

這個進程是Ubuntu上系統的init，例如systemd，它用來提供一種管理使用者進程的方式，位於作業系統和使用者之間。


我們想要啟動的任何程式或軟體都會作為systemd的子進程啟動。這意味著它由systemd控制，但將作為自己的進程運行（儘管共享systemd的資源），以便我們更容易識別等。

--------------------------------------------

起動服務





用于启动服务，手动启动当前会话中的服务

systemctl start apache2
systemctl stop apache2



用于启用服务，使服务在系统启动时自动启动

systemctl Enable apache2
systemctl Disable apache2




查看服務
systemctl list-units --type=service --state=running

OR

systemctl --state=running

--------------------------------------------



Linux中的後台和前台 簡介 


`Ctrl+Z` 和 `&` 都涉及到在 Linux/Unix 终端中将进程置于后台运行的概念，但它们之间有一些关键的区别。

1. **Ctrl+Z：**
   - **描述：** 在终端中按下 `Ctrl+Z` 会将当前正在前台运行的进程暂停（挂起），并将其放入后台。这不会终止进程，而只是将其挂起，暂停运行。
   - **后续操作：** 你可以使用 `bg` 命令将挂起的进程移到后台继续运行，或者使用 `fg` 命令将其移到前台继续运行。

2. **&：**
   - **描述：** 在命令的末尾使用 `&`（例如 `command &`）将命令放入后台运行。这意味着你启动了一个新的进程，该进程在后台运行，而终端可以立即返回并接受新的命令。
   - **后续操作：** 如果需要将一个在后台运行的命令移到前台，可以使用 `fg` 命令。


总的来说，`Ctrl+Z` 用于挂起当前前台运行的进程，而 `&` 用于在启动新的命令时将其放入后台。在某些情况下，两者可能会产生类似的效果，但它们的使用场景和效果略有不同。



--------------------------------------------
自動化

Crontab 是啟動過程中啟動的進程之一，負責促進和管理 cron 作業。

crontab 只是一個特殊的文件，其格式可以被進程識別cron以逐步執行每一行。crontab 需要 6 個特定值：


MIN	在哪分鐘執行
HOUR	幾點執行
DOM	每月的哪一天執行
MON	一年中的哪一個月執行
DOW	一週中的哪一天執行
CMD	將執行的實際命令。



即我們不關心它執行的月份、日期或年份——只關心它每 12 小時執行一次，我們只需放置一個星號即可。
0 *12 * * * cp -R /home/cmnatic/Documents /var/backups/



編輯 crontab 
crontab -e，您可以在其中選擇編輯器（例如 Nano）來編輯您的 crontab。



@reboot /var/opt/processes.sh

这是一个 crontab（定时任务表）中的一行，表示在系统重新启动时执行指定的命令。

具体解释如下：

- `@reboot`：表示在系统启动时执行。这是一个特殊的时间标记，指定了任务应该在系统重新启动时运行。

因此，整个行的含义是，当系统重新启动时，将执行 `/var/opt/processes.sh` 脚本。通常，这样的设置用于确保在系统启动时执行一些必要的操作或服务。


--------------------------------------------


軟體包和軟體儲存庫簡介

當開發人員希望向社群提交軟體時，他們會將其提交到「apt」儲存庫。如果獲得批准，他們的程序和工具將被廣泛發布

/etc/apt/


這些檔案會充當網關/註冊表。 
apt.conf.d
auth.conf.d 
keyrings
preferences.d 
sources.list 
sources.list.d 
trusted.gpg.d


過使用 add-apt-repository命令或列出其他提供者來新增其他儲存庫！例如，一些供應商將擁有更接近其地理位置的儲存庫。


雖然您可以透過使用軟體包安裝程式（例如 ）來安裝軟體dpkg，

但 apt 的好處意味著每當我們更新系統時，包含我們新增的軟體片段的儲存庫也會檢查更新。 


在這個範例中，我們將把文字編輯器 Sublime Text 作為儲存庫新增到我們的 Ubuntu 電腦中，因為它不是預設 Ubuntu 儲存庫的一部分。在添加軟體時，我們下載的內容的完整性是透過使用所謂的 GPG（Gnu Privacy Guard）金鑰來保證。這些金鑰本質上是開發人員的安全檢查，表示「這是我們的軟體」。如果金鑰與您的系統信任的金鑰和開發人員使用的金鑰不匹配，則不會下載該軟體。




1.讓我們下載 GPG 金鑰並使用 apt-key 來信任它

wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | sudo apt-key add -


2.現在我們已經將此密鑰新增到我們的受信任清單中，現在我們可以將 Sublime Text 3 的儲存庫新增到我們的 apt 來源清單中。一個好的做法是為我們新增的每個不同的社群/第三方儲存庫建立一個單獨的檔案。


2.1. 讓我們在/etc/apt/sources.list.d中創建一個名為sublime-text.list的文件，並輸入存儲庫信息，如下所示：

touch sublime-text.list



2.2. 現在使用 Nano 或您選擇的文字編輯器將 Sublime Text 儲存庫新增並儲存到這個新建立的檔案中：

deb https://download.sublime.com/ apt/stable/

 APT 将从 https://download.sublime.com/ 下载 "stable" 目录中的二进制软件包。这种形式的源通常用于安装 Sublime Text 编辑器，因为 Sublime Text 提供了这样的 APT 存储库以方便用户安装和更新软件。


2.3. 新增此條目後，我們需要更新 apt 以識別此新條目 - 這是使用命令完成
apt update


2.4. 成功更新後，我們現在可以繼續安裝我們信任的軟體並使用它來添加到 apt 中 apt install sublime-text


---------------------------------------------------------------------------------------------------------


以上THM 的實驗我失敗了，我改用官方網站的，可以成功。

wget -qO - https://download.sublimetext.com/sublimehq-pub.gpg | gpg --dearmor | sudo tee /etc/apt/trusted.gpg.d/sublimehq-archive.gpg > /dev/null



echo "deb https://download.sublimetext.com/ apt/stable/" | sudo tee /etc/apt/sources.list.d/sublime-text.list






-------------------------------------------------------------------------------------------------------------


 /var/log 目錄中，包含系統上執行的應用程式和服務的日誌記錄資訊




三個服務的一些日誌：

Apache2 Web 伺服器
例如，fail2ban 服務的日誌，用於監視嘗試的暴力破解
用作防火牆的 UFW 服務











