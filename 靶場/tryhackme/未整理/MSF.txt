


cd /usr/share/metasploit-framework/





顯示指定目錄payloads/下的直接子目錄和文件

tree -L 1 auxiliary/
tree -L 1 encoders/
tree -L 1 evasion/
tree -L 1 exploits/
tree -L 1 nops/
tree -L 1 payloads/
tree -L 1 post/ 

1. **Auxiliary（輔助模組）**：
   - **定義**：Auxiliary模組是用於執行輔助性任務的模組，如掃描、信息收集、漏洞探測等。
   - **用途**：Auxiliary模組通常用於在攻擊前收集目標系統的信息，以確定漏洞或者探測目標系統的弱點。

2. **Encoders（編碼器模組）**：
   - **定義**：Encoders模組用於對攻擊代碼進行編碼或者加密，以繞過防火牆、入侵檢測系統（IDS）等安全檢測機制。
   - **用途**：Encoders模組通常用於混淆攻擊代碼，使其難以被檢測，提高攻擊的成功率。

3. **Evasion（逃避模組）**：
   - **定義**：Evasion模組用於繞過防禦性安全措施，如入侵檢測系統（IDS）、入侵防禦系統（IPS）等。
   - **用途**：Evasion模組用於生成能夠避免被檢測的攻擊代碼，增加攻擊的成功機會。

4. **Exploits（漏洞利用模組）**：
   - **定義**：Exploits模組用於利用目標系統的漏洞，以實現入侵或者控制目標系統。
   - **用途**：Exploits模組包含各種漏洞利用技術，用於利用目標系統的已知漏洞，進行攻擊。

5. **Nops（填充模組）**：
   - **定義**：Nops模組用於插入一些無操作指令（No Operation，簡稱NOP）以填充攻擊代碼，保持攻擊代碼的結構完整性。
   - **用途**：Nops模組用於在攻擊代碼中添加無害的指令，以確保攻擊代碼的運行不受影響。

6. **Payloads（攻擊代碼模組）**：
   - **定義**：Payloads模組包含了各種不同的攻擊代碼，例如shell代碼、反向Shell、Meterpreter等。
   - **用途**：Payloads模組用於在成功利用漏洞後，將攻擊者所需的功能傳送到目標系統上，實現攻擊目標的操作。

7. **Post（後測模組）**：
   - **定義**：Post模組用於在入侵成功後，進行後續的測試和操作，如信息收集、權限提升、橫向移動等。
   - **用途**：Post模組用於在系統內部進行測試和探查，以進一步擴大攻擊範圍或者獲取更多的目標系統信息。

這些模組類型共同構成了Metasploit Framework的功能，使其成為一個強大且靈活的安全評估和攻擊工具。






-------------------------------------------------



兩者都是反向 Windows shell。
generic/shell_reverse_tcp
windows/x64/shell/reverse_tcp

前者是內聯（或單一）有效負載如“shell”和“reverse”之間的“_”所示。

而後者是階段式有效負載，如“shell”和“reverse”之間的“/”所示。







利用目標系統上的缺陷的程式碼的名稱是什麼？
exploit

在目標系統上運行以實現攻擊者目標的程式碼的名稱是什麼？
payload

自包含有效負載稱為什麼？
Singles

windows/x64/pingback_reverse_tcp」是單一負載還是分階段負載？
Singles


-------------------------------------------------

善用
tab 補全

use auxiliary
use encoders
use evasion
use exploits
use nops
use payloads
use post



exploit舉例:

use exploit/windows/smb/ms17_010_eternalblue

info

show options

set payload

back

-------------------------------------------------
use post/windows/gather/enum_domain_users


info

show options

-------------------------------------------------

search ms17-010

您可以透過命令 use 
後面跟著結果行開頭的數字來使用搜尋結果中傳回的任何模組。
例如use 0 代替use auxiliary/admin/smb/ms17_010_command


我們可以將類型設定為輔助
search type:auxiliary telnet
search type:auxiliary enum
-------------------------------------------------


您將如何搜尋與 Apache 相關的模組？
search apache


誰提供了auxiliary/scanner/ssh/ssh_login模組？
info auxiliary/scanner/ssh/ssh_login

todb

-------------------------------------------------

在Metasploit Framework中，setg是用于设置全局变量（Global Variable）的命令。与set命令不同，setg命令设置的变量是全局范围的，可以在不同模块之间共享。这样，你可以在不同的模块中使用相同的全局变量，而不需要在每个模块中重新设置它们。
setg
unsetg




-------------------------------------------------

您可以使用命令啟動模組exploit 。Metasploit也支援該 run 命令


命令將在會話開啟後立即執行漏洞利用程式並將其置於背景
exploit -z 
-------------------------------------------------


查看現有會話。
sessions


要與任何會話交互，您可以使用該sessions -i 命令，後面跟著所需的會話號碼。
sessions -i xxx



如何將 LPORT 值設定為 6666？
set lport 6666

如何將 RHOSTS 的全域值設為 10.10.19.23 ？
setg RHOSTS 10.10.19.23 

您將使用什麼命令來清除設定的有效負載？
unset payload

您使用什麼命令來繼續利用階段？
exploit

-------------------------------------------------