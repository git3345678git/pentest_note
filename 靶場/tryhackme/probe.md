# probe




## 掃描
```
rustscan -a 10.10.37.160 -- -sV
```

```
22/tcp   open  ssh                     syn-ack OpenSSH 8.2p1 Ubuntu 4ubuntu0.7 (Ubuntu Linux; protocol 2.0)
80/tcp   open  http                    syn-ack lighttpd 1.4.55
443/tcp  open  ssl/http                syn-ack Apache httpd 2.4.41
1338/tcp open  ftp                     syn-ack vsftpd 2.0.8 or later
1443/tcp open  ssl/http                syn-ack Apache httpd 2.4.41 ((Ubuntu))
1883/tcp open  mosquitto version 1.6.9 syn-ack
8000/tcp open  http                    syn-ack Apache httpd 2.4.41 ((Ubuntu))
9007/tcp open  http                    syn-ack Apache httpd 2.4.41
```


**測試**

```
http://10.10.37.160/
403 Forbidden


https://10.10.37.160:443
You don't have permission to access this resource.


https://10.10.37.160:1443
phpinfo() page

http://10.10.37.160:8000/
空白


http://10.10.37.160:9007/
Server at myblog.thm Port 80
```





**查看憑證**

SSL 证书（SSL-cert）的扫描结果，显示了证书的主题（Subject）和颁发者（Issuer）信息。以下是对结果的解释：

- **Subject（主题）**:
  - **commonName (通用名称)**: dev.probe.thm
  - **organizationName (组织名称)**: Tester
  - **stateOrProvinceName (州或省份名称)**: Some-State
  - **countryName (国家名称)**: US
  - **localityName (地区名称)**: city
  - **emailAddress (电子邮件地址)**: probe@probe.thm
  - **organizationalUnitName (组织单位名称)**: MHT

- **Issuer（颁发者）**:
  - **commonName (通用名称)**: dev.probe.thm
  - **organizationName (组织名称)**: Tester
  - **stateOrProvinceName (州或省份名称)**: Some-State
  - **countryName (国家名称)**: US
  - **localityName (地区名称)**: city
  - **emailAddress (电子邮件地址)**: probe@probe.thm
  - **organizationalUnitName (组织单位名称)**: MHT





**伺服器上的PHP 擴充建置**
```
API20190902,NTS 
```



**FTP 服務的banner**

```
ftp 10.10.37.160 1338
nc 10.10.37.160 1338
```



**dirsearch**
```
dirsearch  -u http://10.10.37.160:8000/


[04:52:37] 403 -  280B  - /.ht_wsr.txt                                      
[04:52:37] 403 -  280B  - /.htaccess.bak1                                   
[04:52:37] 403 -  280B  - /.htaccess.orig                                   
[04:52:37] 403 -  280B  - /.htaccess.save
[04:52:37] 403 -  280B  - /.htaccess.sample                                 
[04:52:37] 403 -  280B  - /.htaccess_extra                                  
[04:52:37] 403 -  280B  - /.htaccess_orig
[04:52:37] 403 -  280B  - /.htaccess_sc
[04:52:37] 403 -  280B  - /.htaccessBAK
[04:52:37] 403 -  280B  - /.htaccessOLD
[04:52:37] 403 -  280B  - /.htaccessOLD2                                    
[04:52:37] 403 -  280B  - /.html
[04:52:37] 403 -  280B  - /.htm
[04:52:37] 403 -  280B  - /.htpasswd_test                                   
[04:52:37] 403 -  280B  - /.htpasswds
[04:52:37] 403 -  280B  - /.httr-oauth
[04:52:41] 403 -  280B  - /.php                                             
[04:53:39] 301 -  325B  - /contactus  ->  http://10.10.37.160:8000/contactus/
[04:54:05] 301 -  326B  - /javascript  ->  http://10.10.37.160:8000/javascript/
[04:54:27] 301 -  326B  - /phpmyadmin  ->  http://10.10.37.160:8000/phpmyadmin/
[04:54:29] 200 -    3KB - /phpmyadmin/doc/html/index.html                   
[04:54:31] 200 -    3KB - /phpmyadmin/                                      
[04:54:31] 200 -    3KB - /phpmyadmin/index.php
[04:54:41] 403 -  280B  - /server-status/                                   
[04:54:41] 403 -  280B  - /server-status
```

* 找到phpmyadmin





**可以開啟**
```
http://10.10.37.160:9007/ 

Bad Request

Your browser sent a request that this server could not understand.
Reason: You're speaking plain HTTP to an SSL-enabled server port.
Instead use the HTTPS scheme to access this URL, please.
Apache/2.4.41 (Ubuntu) Server at myblog.thm Port 80


这个错误表明你的浏览器尝试通过HTTP协议访问使用SSL（HTTPS）的服务器端口（Port 80），导致服务器无法理解。通常情况下，HTTP和HTTPS使用的是不同的端口，HTTP默认使用80端口，而HTTPS默认使用443端口。
```




--------------------------------------------------

要手動確認憑證，可以看到blog
```
https://10.10.37.160:9007/ 
```


修改 host檔
```
sudo nano /etc/hosts
10.10.37.160    myblog.thm
```




憑證信息:
```
US
Some-State
Internet Widgits Pty Ltd
myblog.thm
dev@myblog.thm
```




**插鍵 wappalyzer 找資訊**



**wpscan**
```
wpscan --url https://myblog.thm:9007 --disable-tls-checks

wordpress 6.2.2 CMS
```





**點選hello word 會跳轉**
```
https://myblog.thm:9007/?p=1
```


**找到文章作者**
joomla








**正解應該用(不過我跑超久，還沒跑完)**
```
nikto -h https://myblog.thm:9007
```


**會跑出**
```
OSVDB-3092 :
/license.txt
```


```
dirsearch -u http://10.10.37.160:8000
```


查看
```
http://10.10.37.160:8000/contactus/
```