# nmap01


**目的:發現主機**






## ARP 無法穿過路由器(網段)， PING可以



**提供一個檔案作為目標清單的輸入**
```
nmap -iL list_of_hosts.txt
```


**使用 ping 掃描來尋找活動主機**
```
nmap -sn  10.10.210.6
```


**Nmap 僅執行 ARP 掃描而不進行連接埠掃描，您可以使用**
```
nmap -PR  10.10.210.6
nmap -PR -sn 10.10.210.6
```









**向子網路上的每個 IP 位址發送 ICMP 回顯封包**
```
nmap -PE -sn 10.10.68.220
```



**由於 ICMP 回顯請求往往會被阻止，因此您也可以考慮使用 ICMP 時間戳記來判斷系統是否在線**
```
nmap -PP -sn 10.10.68.220
```



**使用 ICMP 位址遮罩查詢來發現活動主機**
```
nmap -PM -sn 10.10.68.220
```


**ICMP 时间戳请求到目标主机**
```
nmap -PP -sn 10.10.68.220

-PP：此选项指定使用 ICMP 回显请求和 ICMP 时间戳请求进行主机发现。Nmap 将同时发送 ICMP 回显请求（ping）和 ICMP 时间戳请求到目标主机，以确定其是否处于活动状态。
```










### root 不需要完成 TCP 3 次握手


**使用 TCP ACK 包（Acknowledgment）进行主机发现**
```
nmap -PA -sn 10.10.68.220

-PA：指示使用 TCP ACK 包（Acknowledgment）进行主机发现。Nmap将向目标主机发送 TCP ACK 包，如果目标主机返回 RST 包，则表示主机处于活动状态。
-PA後面應跟連接埠號碼 -PA80,443,8080
-sn：禁用端口扫描，只执行主机发现。与前面的解释相同，这相当于 Ping 扫描，通过发送探测来检查主机是否处于活动状态，而不扫描特定的端口。
```


**定使用 UDP 数据包进行主机发现**

```
nmap -PU -sn 10.10.68.220

-PU：此选项指定使用 UDP 数据包进行主机发现。Nmap 将向目标主机发送 UDP 数据包，以确定其是否处于活动状态。
-sn：此选项禁用端口扫描，只执行主机发现。它相当于 Ping 扫描，其中 Nmap 发送探测（在此情况下是 UDP 数据包）来检查主机是否处于活动状态，而不扫描特定端口
```


**Nmap 的預設行為是使用反向DNS線上主機**
```
nmap -n 10.10.68.220
当使用 -n 时，Nmap 将只使用IP地址而不尝试将IP地址转换为主机名
```



**对目标IP地址作反向域名解析**
```
nmap -R 10.10.68.220
```



**指定用于DNS查询的特定DNS服务器**
```
nmap --dns-servers 8.8.8.8 
```