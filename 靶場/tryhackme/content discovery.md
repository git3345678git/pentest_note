# 內容發現


**三種主要方法。**

1. 手動
2. 自動
3. OSINT（開源情報）


## 手動發現 - Robots.txt



```
http://10.10.148.123/robots.txt


User-agent: *
Allow: /
Disallow: /staff-portal
```
---




## 手動發現 - Favicon

**網頁找到icon **
```
https://static-labs.tryhackme.cloud/sites/favicon/ 

找到
https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico
```


**下載ico 計算md5**
```
curl https://static-labs.tryhackme.cloud/sites/favicon/images/favicon.ico | md5sum

// f276b19aabcb4ae8cda4d22625c6735f  
```


**OWASP 開源情報 icon 屬於哪種框架**
```
https://wiki.owasp.org/index.php/OWASP_favicon_database

找到
f276b19aabcb4ae8cda4d22625c6735f:cgiirc (0.5.9)
```
---



## 手動發現 - Sitemap.xml


**sitemap.xml 檔案提供了網站所有者希望在搜尋引擎上列出的每個檔案的清單。**

* 這些有時可能包含網站中導航起來有點困難的區域，
* 甚至列出一些目前網站不再使用但仍在幕後工作的舊網頁


```
http://10.10.148.123/sitemap.xml
```


**sitemap.xml檔案中可以找到的秘密區域的路徑是什麼？**
```
/s3cr3t-area
```


## 手動發現 - HTTP 標頭


```
curl http://10.10.148.123 -v

*   Trying 10.10.148.123:80...
* Connected to 10.10.148.123 (10.10.148.123) port 80 (#0)
> GET / HTTP/1.1
> Host: 10.10.148.123
> User-Agent: curl/7.84.0
> Accept: */*
> 
* Mark bundle as not supporting multiuse
< HTTP/1.1 200 OK
< Server: nginx/1.18.0 (Ubuntu)
< Date: Mon, 25 Dec 2023 04:52:11 GMT
< Content-Type: text/html; charset=UTF-8
< Transfer-Encoding: chunked
< Connection: keep-alive
< X-FLAG: THM{HEADER_FLAG}
< 

```


## 手動發現 - 框架堆疊


```
http://10.10.148.123
```


**F12 找到頁尾**
```
<!--
Page Generated in 0.05361 Seconds using the THM Framework v1.2 ( https://static-labs.tryhackme.cloud/sites/thm-web-framework )

-->
```



### 框架官網

```
https://static-labs.tryhackme.cloud/sites/thm-web-framework
```


**home 說明**
```
Current Version 1.3
```



**changelog 說明**
```

1.3版
我們遇到了一個問題，我們的備份過程在 Web 目錄中創建一個名為 /tmp.zip 的文件，該文件可能會被網站訪客讀取。 該文件現在儲存在公眾無法讀取的區域中。

1.2版
我們在管理入口網站中新增了備份工具。

1.1版
我們現在已將聯絡表單新增至我們的頁面範本中，以便您可以接收來自訪客的訊息。

```

**Documentation 說明**
```
該框架的文件已預先安裝在您的網站管理入口網站上。

安裝框架後，導覽至網站上的 /thm-framework-login 路徑。

您可以使用使用者名稱 admin 和密碼 admin 登入（請確保更改此密碼）
```


```
下載
http://10.10.148.123/tmp.zip
//THM{KEEP_YOUR_SOFTWARE_UPDATED}



登入admin/admin
http://10.10.148.123/thm-framework-login
/THM{CHANGE_DEFAULT_CREDENTIALS}
```



## OSINT - 谷歌黑客 / Dorking

 
https://www.exploit-db.com/google-hacking-database


| 指令        | 用法                | 解釋                                   |
|-------------|---------------------|----------------------------------------|
| `site:`     | `site:tryhackme.com` | 返回來自指定網站地址的搜索結果。       |
| `inurl:`    | `inurl:admin`        | 返回 URL 中包含指定單詞的搜索結果。    |
| `filetype:` | `filetype:pdf`       | 返回具有特定文件擴展名的搜索結果。    |
| `intitle:`  | `intitle:admin`      | 返回標題中包含指定單詞的搜索結果。    |



## OSINT-Wappalyzer

**Wappalyzer** 
( https://www.wappalyzer.com/ ) 是一種線上工具和瀏覽器擴展，可協助識別網站使用的技術，例如框架、內容管理系統 (CMS)、支付處理器等等，它甚至可以還可以找到版本號。


## OSINT - 回溯機

**回溯機**
Wayback Machine ( https://archive.org/web/ ) 是一個網站的歷史檔案，其歷史可以追溯到 90 年代末。您可以搜尋域名，它會向您顯示該服務抓取網頁並保存內容的所有時間。此服務可以幫助發現目前網站上可能仍處於活動狀態的舊頁面。



## 開源情報 - GitHub


**GitHub**
要了解GitHub，首先需要了解Git。Git 是一個 版本控制系統 ，用於追蹤專案中檔案的變更。在團隊中工作更加容易，因為您可以看到每個團隊成員正在編輯的內容以及他們對文件所做的更改。當使用者完成更改後，他們會透過一則訊息提交更改，然後將其推送回中央位置（儲存庫），以便其他使用者將這些變更拉取到本機電腦。GitHub 是 Git 在網路上的託管版本。儲存庫可以設定為公共或私有，並具有各種存取控制。您可以使用 GitHub 的搜尋功能來尋找公司名稱或網站名稱，以嘗試尋找屬於您的目標的儲存庫。一旦被發現，您可能可以存取原始程式碼、密碼或其他您尚未發現的內容。



## OSINT - S3 儲存桶

S3 Buckets 是 Amazon AWS 提供的儲存服務，讓人們可以將檔案甚至靜態網站內容保存在可透過 HTTP 和 HTTPS 存取的雲端中。
文件的擁有者可以設定存取權限，使文件成為公開、私有甚至可寫入。
有時，這些存取權限設定不正確，並無意中允許存取不應向公眾開放的文件




**常見的自動化方法是使用公司名稱後面跟著常見術語，例如**
S3 儲存桶的格式為 http(s)://{name}.s3.amazonaws.com


```
https://tryhackme-assets.s3.amazonaws.com
```

```
{name} -assets
{name} -www
{name} -public 
{name} -private 
```



## 自動發現



**ffuf**

```
ffuf -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt -u http://10.10.148.123/FUZZ
```


**dirb**

```
dirb http://10.10.148.123/ /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```


**gobuster**
```
gobuster dir --url http://10.10.148.123/ -w /usr/share/wordlists/SecLists/Discovery/Web-Content/common.txt
```




**發現的以「/mo....」開頭的目錄的名稱是什麼？**
/monthly

**發現的日誌檔案的名稱是什麼？**
/development.log
