# ffuf




## 尋找頁面和目錄


**大型通用單字清單**
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/big.txt
```


**大型通用單字清單並不是很有效**
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt
```


**我們可以只嘗試索引頁面的常見擴充**
```
ffuf -u http://10.10.96.121/indexFUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/web-extensions.txt
```


**排除的文件擴展名，即 FFuF 將忽略帶有 ".php" 或 ".txt" 擴展名的文件**
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-words-lowercase.txt -e .php,.txt
```


**目錄爆破**
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-directories-lowercase.txt
```




## 使用過濾器

403 HTTP 狀態代碼 表示我們被禁止存取所要求的資源
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt -fc 403
```



只想要查看 200 個狀態代碼
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt -mc 200

```

有時，透過匹配 HTTP 500 內部伺服器錯誤回應代碼  來查看伺服器未處理哪些請求可能會有所幫助
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt -mc 500
```


您可能會遇到狀態代碼為 200 且回應大小為零的文件，除非我們有 LFI（本地文件包含），否則這種文件並不有趣，我們可以使用-fs 0
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt -fs 0
```


我們經常看到以點開頭的檔案 .htgroups .php 他們拋出 403 Forbidden 錯誤 但這些文件實際上並不存在，但使用 -fc 403 這可能會隱藏我們尚未訪問的有價值的文件。因此，我們可以使用正規表示式來匹配所有以點開頭的檔案
```
ffuf -u http://10.10.96.121/FUZZ -w /home/kali/Desktop/SecLists/Discovery/Web-Content/raft-medium-files-lowercase.txt -fr '/\..*'
```



## 模糊測試參數

可以先觀察計算單字數 發現 words 39 都是沒發生變化的
```
ffuf -u 'http://10.10.125.76/sqli-labs/Less-1/?FUZZ=1' -c -w /home/kali/Desktop/SecLists/Discovery/Web-Content/burp-parameter-names.txt
```

```
id17level               [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 240ms]
id19level               [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 240ms]
id14gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 243ms]
id1level                [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 234ms]
id1gid                  [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 236ms]
id2                     [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 236ms]
id20gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 236ms]
id21level               [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 236ms]
id21gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 237ms]
id20level               [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 237ms]
id22gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 234ms]
id24gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 239ms]
id23gid                 [Status: 200, Size: 691, Words: 39, Lines: 29, Duration: 240ms]

```





**加上 -fw 39 過濾輸出**
```
ffuf -u 'http://10.10.125.76/sqli-labs/Less-1/?FUZZ=1' -c -w /home/kali/Desktop/SecLists/Discovery/Web-Content/burp-parameter-names.txt -fw 39

找到
id                      [Status: 200, Size: 721, Words: 37, Lines: 29, Duration: 234ms]

```




**找到參數id後，可以測試value**
使用了循环来生成数字序列 {0..255}，然后通过 echo $i 将每个数字输出到标准输出（终端）。接着，通过 |（管道符），将这些输出传递给 ffuf 的 -w - 部分，表示从标准输入读取字典。

```
for i in {0..255}; do echo $i; done | ffuf -u 'http://10.10.125.76/sqli-labs/Less-1/?id=FUZZ' -c

for i in {0..255}; do echo $i; done | ffuf -u 'http://10.10.125.76/sqli-labs/Less-1/?id=FUZZ' -c -w - -fw 33
```


## POST 請求
```
ffuf -u http://10.10.125.76/sqli-labs/Less-11/ -c -w /home/kali/Desktop/SecLists/Passwords/Leaked-Databases/hak5.txt -X POST -d 'uname=Dummy&passwd=FUZZ&submit=Submit' -fs 1435 -H 'Content-Type: application/x-www-form-urlencoded'




-u http://10.10.125.76/sqli-labs/Less-11/: 指定目標 URL。

-c: 對輸出進行著色

-w /home/kali/Desktop/SecLists/Passwords/Leaked-Databases/hak5.txt: 指定字典文件的位置，這個字典文件包含要測試的可能密碼。

-X POST: 指定使用 POST 方法進行請求。

-d 'uname=Dummy&passwd=FUZZ&submit=Submit': 指定 POST 請求的數據。FUZZ 會被字典中的每個單詞替換。

-fs 1435: 過濾掉返回碼為 1435 的結果。

-H 'Content-Type: application/x-www-form-urlencoded': 指定 HTTP 標頭，表示使用 URL 編碼的表單數據。



```


## 代理
```
ffuf -u http://10.10.125.76/ -c -w /usr/share/seclists/Discovery/Web-Content/common.txt -x http://127.0.0.1:8080

ffuf -u http://10.10.125.76/ -c -w /usr/share/seclists/Discovery/Web-Content/common.txt -replay-proxy http://127.0.0.1:8080


-replay-proxy 選項通常用於被動地重放之前的請求


```